일단 Transport Layer에서 TCP를 사용한다면 segment 라는 단위로서 데이터를 보내게 된다. 이 segment는 헤더와 데이터, 즉 페이로드로 이어져있다. 헤더는 기본 20byte이지만 옵션을 사용하면 최대 60byte까지 데이터가 들어갈 수 있다.

![](../images/Pasted%20image%2020250917005728.png)


![](../images/Pasted%20image%2020250917005804.png)

헤더를 잘 보면 가로 32bit 즉 4byte로 이뤄져있고, 총 5개 층으로 이뤄져 있다. 그래서 20byte니까 결국 기본 헤더에는 이 내용들이 전부 들어가 있다. 

가장 먼저 볼건 포트 주소! 보내는 사람과 받는 사람의 포트 주소가 들어가 있는데, 보낼 때는 알아서 컴퓨터가 요청을 보내는 즉 컴퓨터를 나가는 포트 번호를 자동으로 알려준다. 여기서 약간 생길 수 있는 의문점은 컴퓨터의 포트는 총 2의 16승개로 엄청 많고 지정도 할 수 있다. 그런데 어떻게 받는 컴퓨터의 데이터가 들어오는 포트 입구를 알 수 있을까?

우리는 어플리케이션 layer에서 메세지의 형태로 데이터를 나타낸다. 그런데 이 메세지도 프로토콜 형태로 정해진 형식이 있다. 예를 들어 http 같은 경우에 정해진 형식에 따라 데이터가 있고, 컴퓨터들은 이 정해진 프로토콜에 따라서 들어오는 포트를 약속해 놨다 http면 80번 포트로 이동하게 된다. 이렇게 약속을 해놨기 때문에 목적지의 포트 주소를 알 수 잇는 것이다. 

